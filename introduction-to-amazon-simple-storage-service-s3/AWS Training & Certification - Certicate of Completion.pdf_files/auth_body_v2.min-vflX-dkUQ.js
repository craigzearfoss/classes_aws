define(["require","exports","tslib","react","modules/clean/react/css","spectrum/button","modules/core/i18n","modules/clean/react/app_actions/telemetry_client","modules/clean/filepath","modules/clean/react/extensions/status_page"],(function(e,t,n,a,s,r,i,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(t){var n=e.call(this,t)||this;return n.clickAuthorize=function(){n.currentSession.event("auth_accept",{action_id:n.props.actionId}),n.props.doAuth()},n.learnMoreOnClick=function(){n.currentSession.event("learn_more",{action_id:n.props.actionId})},n.telemetryClient=o.createTelemetryClient({component:"auth_v2"}),n}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.currentSession.event("auth_start",{action_id:this.props.actionId})},t.prototype.renderText=function(){var e=0===this.props.fileId.length?i._("<b>%(app_name)s</b> needs access to this file"):i._("<b>%(app_name)s</b> needs access to files you select"),t=void 0!==this.props.fileId?i._("Changes to this file using %(app_name)s will save back to Dropbox. This app will have access to the username, email address, and country for your account."):i._("Changes to selected files using %(app_name)s will save back to Dropbox. This app will have access to the username, email address, and country for your account.");return a.default.createElement("div",null,a.default.createElement("div",{className:"auth-text-header-v2"},i.intl.formatMessage(e,{app_name:this.props.appName,b:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.default.createElement("b",null,e)}})),a.default.createElement("div",{className:"auth-text-v2"},i.intl.formatMessage(t,{app_name:this.props.appName}),a.default.createElement("a",{className:"learn-more-link",href:"/help/security/third-party-apps",target:"_blank",rel:"noopener noreferrer",onClick:this.learnMoreOnClick},i._("Learn more"))))},t.prototype.renderButtons=function(){return a.default.createElement("div",null,a.default.createElement(r.Button,{variant:"primary",className:"auth-button-v2",onClick:this.clickAuthorize},i._("Allow",{comment:"'Allow' means to accept terms and link with app"})))},t.prototype.renderAuthorization=function(){var e=this.props,t=e.appName,n=e.iconUrl;return a.default.createElement("div",{id:"auth",className:"auth-connect-frame-v2"},a.default.createElement("div",null,a.default.createElement("img",{className:"app-icon-v2",src:n,alt:t})),a.default.createElement("div",null,this.renderText()),a.default.createElement("div",{id:"buttons"},this.renderButtons()))},t.prototype.render=function(){var e=this.props.fileName;return this.currentSession=this.telemetryClient.session({ext:o.getPiiSafeExtension("."+l.file_extension(e))}),this.props.showLoadingUI?a.default.createElement(c.AppActionsLoadingPage,{fileName:e}):this.renderAuthorization()},t})((a=n.__importDefault(a)).default.Component);t.ExtensionsAuthBodyV2=s.requireCssWithComponent(u,["/static/css/spectrum/index.web-vfl_-DzRS.css","/static/css/foundation-vflVWYClF.css","/static/css/app_actions/index-vfl5P3doR.css"])}));
//# sourceMappingURL=auth_body_v2.min.js-vflfA3Lu8.map